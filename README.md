# üìä Fintech Analytics

Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π –≤ —Ñ–∏–Ω—Ç–µ—Ö-—Å—Ä–µ–¥–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **PostgreSQL + Citus Columnar**, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ **Docker Compose**, –∏ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏:
  - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π
  - –°–æ–±—ã—Ç–∏—è –ø–æ –¥–Ω—è–º
  - –°–æ–±—ã—Ç–∏—è –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º
  - –°–æ–±—ã—Ç–∏—è –ø–æ –ª–æ–∫–∞—Ü–∏—è–º
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –ë–î —á–µ—Ä–µ–∑ [Citus](https://www.citusdata.com/)
- –ë—ã—Å—Ç—Ä–æ–µ —á—Ç–µ–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –±–ª–∞–≥–æ–¥–∞—Ä—è [Citus Columnar](https://www.citusdata.com/blog/2022/04/12/columnar-compression-for-analytics-on-postgres/)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π (`faker`)
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –ø–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º (dev/prod)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- REST API
- Gunicorn

---

## üß± –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- üêç Python 3.11 + Flask
- üêò PostgreSQL + Citus + Citus Columnar
- üê≥ Docker + Docker Compose
- üß™ Pytest (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- üì¶ SQLAlchemy (–ø–æ –∂–µ–ª–∞–Ω–∏—é, –ø–æ–∫–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/your-username/fintech-analytics.git
cd fintech-analytics
```

### 2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker –∏ Docker Compose

### 3. –ó–∞–ø—É—Å—Ç–∏ –≤—Å–µ

```bash
docker compose up --build
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
	‚Ä¢	http://localhost:5050/api/summary/events

---

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

```bash
docker compose exec api python -m app.generate_data
```

---

## üß† –ü–æ—á–µ–º—É Citus Columnar?
	‚Ä¢	–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –¥–∞–Ω–Ω—ã–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ worker-–Ω–æ–¥–∞–º
	‚Ä¢	–ö–æ–ª–æ–Ω–Ω–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (—á–∏—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã)
	‚Ä¢	–°–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö ‚Äî —ç–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞ –∏ –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
	‚Ä¢	PostgreSQL API ‚Äî –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–µ SELECT-–∑–∞–ø—Ä–æ—Å—ã

---

## üõ† –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

```env
DB_HOST=coordinator
DB_PORT=5432
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=postgres
FLASK_ENV=development
```

---

## üìå TODO / –ü–ª–∞–Ω—ã
	‚Ä¢	–ü–æ–¥–∫–ª—é—á–∏—Ç—å SQLAlchemy
	‚Ä¢	–î–æ–±–∞–≤–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
	‚Ä¢	–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ (Prometheus + Grafana)
	‚Ä¢	–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ —Ç–æ–∫–µ–Ω—É
	‚Ä¢	–í—ã–≥—Ä—É–∑–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –≤ CSV
